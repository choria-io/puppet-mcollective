---
mcollective::collectives:
  - "mcollective"

mcollective::common_config:
  securityprovider: "puppet"
  identity: "%{trusted.certname}"

mcollective::policy_default: "deny"

mcollective::server_config:
  rpcauthorization: 1
  rpcauthprovider: "action_policy"
  rpcaudit: 1
  rpcauditprovider: logfile
  plugin.rpcaudit.logfile: "/var/log/mcollective-audit.log"

mcollective::plugin_classes:
  - "mcollective::packager"
  - "mcollective_agent_puppet"
  - "mcollective_agent_service"
  - "mcollective_agent_package"
  - "mcollective_security_puppet"
  - "mcollective_util_actionpolicy"

mcollective::server: true
mcollective::client: false
mcollective::service_name: "mcollective"
mcollective::service_ensure: "running"
mcollective::service_enable: true
mcollective::plugin_owner: "root"
mcollective::plugin_group: "root"
mcollective::plugin_mode: "0664"
mcollective::libdir: "/opt/puppetlabs/mcollective/plugins/mcollective"
mcollective::configdir: "/etc/puppetlabs/mcollective"
mcollective::plugintypes:
  - "agent"
  - "aggregate"
  - "application"
  - "audit"
  - "connector"
  - "data"
  - "discovery"
  - "registration"
  - "security"
  - "util"
  - "validator"
  - "pluginpackager"

lookup_options:
  mcollective::collectives:
    merge: "unique"
  mcollective::plugin_classes:
    merge: "unique"
  mcollective::client_config:
    merge:
      strategy: "deep"
  mcollective::server_config:
    merge:
      strategy: "deep"
